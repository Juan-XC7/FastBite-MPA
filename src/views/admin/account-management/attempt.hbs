<body>
    <div id="user-container"></div>
    <button id="delete-selected-button" disabled>Delete Selected</button>
    <div id="confirmation-screen" class="confirmation-screen">
        <div class="confirmation-dialog">
            <h3>Confirmation</h3>
            <p>Are you sure you want to delete the selected users?</p>
            <button id="confirm-delete-button">Yes</button>
            <button id="cancel-delete-button">No</button>
        </div>
    </div>

    <script>
        var userData = [
            { name: "John Doe", age: 25, email: "john@example.com" },
            { name: "Jane Smith", age: 30, email: "jane@example.com" },
            { name: "Bob Johnson", age: 35, email: "bob@example.com" },
            // Add more user objects as needed
        ];

        var userContainer = document.getElementById("user-container");
        var deleteSelectedButton = document.getElementById("delete-selected-button");
        var confirmationScreen = document.getElementById("confirmation-screen");
        var confirmDeleteButton = document.getElementById("confirm-delete-button");
        var cancelDeleteButton = document.getElementById("cancel-delete-button");

        // Loop through the user data
        for (var i = 0; i < userData.length; i++) {
            var user = userData[ i ];

            // Create a div element for each user
            var userDiv = document.createElement("div");
            userDiv.classList.add("user");

            // Create a checkbox for user selection
            var selectCheckbox = document.createElement("input");
            selectCheckbox.type = "checkbox";
            selectCheckbox.classList.add("select-checkbox");
            userDiv.appendChild(selectCheckbox);

            // Create and append user info elements to the user div
            var nameElement = document.createElement("p");
            nameElement.textContent = "Name: " + user.name;
            userDiv.appendChild(nameElement);

            var ageElement = document.createElement("p");
            ageElement.textContent = "Age: " + user.age;
            userDiv.appendChild(ageElement);

            var emailElement = document.createElement("p");
            emailElement.textContent = "Email: " + user.email;
            userDiv.appendChild(emailElement);

            // Append the user div to the user container
            userContainer.appendChild(userDiv);
        }

        var selectCheckboxes = document.querySelectorAll(".select-checkbox");

        function handleCheckboxChange() {
            var selectedCheckboxes = document.querySelectorAll(".select-checkbox:checked");
            deleteSelectedButton.disabled = selectedCheckboxes.length === 0;

            for (var i = 0; i < selectCheckboxes.length; i++) {
                var checkbox = selectCheckboxes[ i ];
                var div = checkbox.closest(".user");

                if (checkbox.checked) {
                    div.classList.add("selected");
                } else {
                    div.classList.remove("selected");
                }
            }
        }

        function showConfirmationScreen() {
            confirmationScreen.classList.add("active");
        }

        function hideConfirmationScreen() {
            confirmationScreen.classList.remove("active");
        }

        function handleDeleteSelectedButtonClick() {
            var selectedCheckboxes = document.querySelectorAll(".select-checkbox:checked");

            if (selectedCheckboxes.length > 0) {
                showConfirmationScreen();
            }
        }

        function handleConfirmDeleteButtonClick() {
            var selectedCheckboxes = document.querySelectorAll(".select-checkbox:checked");

            for (var i = 0; i < selectedCheckboxes.length; i++) {
                var checkbox = selectedCheckboxes[ i ];
                var div = checkbox.closest(".user");
                div.remove();
            }

            deleteSelectedButton.disabled = true;
            hideConfirmationScreen();
        }

        function handleCancelDeleteButtonClick() {
            hideConfirmationScreen();
        }

        for (var i = 0; i < selectCheckboxes.length; i++) {
            selectCheckboxes[ i ].addEventListener("change", handleCheckboxChange);
        }

        deleteSelectedButton.addEventListener("click", handleDeleteSelectedButtonClick);
        confirmDeleteButton.addEventListener("click", handleConfirmDeleteButtonClick);
        cancelDeleteButton.addEventListener("click", handleCancelDeleteButtonClick);

    </script>
</body>